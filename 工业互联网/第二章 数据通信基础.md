# 2.1 数据通信的基本概念
1. 数据通信的目的是传递信息
	* **信息**通常是数字文字语音图形图像等的内容或解释；数字文字语音图形图像等是传递携带信息的实体
	* **数据**是用二进制代码表示的数字文字语音图形图像等
	* **信号**是数据的物理量编码，也就是数据传输过程的光电信号表示
2. 信息转化过程
	* 计算机**产生的信息**一般是字母数字符号图形或图像等的组合
	* 为了传递信息首先要将每一个字母数字符号或图形图像等**用二进制代码表示**
	* 然后将二进制代码**转换成信号**，在信道上传输
3. 数据通信
	* 指在不同计算机之间传送表示字母数字等的二进制代码0、1比特序列的过程
	**数据传输的目的是传递信息，传输的对象是数据，传输的形式是信号**
4. 通信系统模型
	* 信源：一次通信中产生和发送信息的那一端
	* 信宿：一次通信中接收信息的那一端
	* 信道：新远和信宿之间传送信息的通道，以通信线路为物质基础
5. 数据通信的基本过程
	* 通信过程：数据从发送端发出到被接收端接收的整个过程
	*典型通信过程的五个阶段：建立物理连接->建立逻辑连接-> 数据传送->断开逻辑连接->断开物理连接*
# 2.2 信道及其主要特征
模拟信号（电磁波）：时间上连续，有无穷多个值
数字信号（电压脉冲）：时间上离散，只有有限多个预定值
用模拟信道传输数字数据：调制，形成模拟的调制信号，解调，将模拟信号还原为数字数据
用数字信道传输数字数据：直接传输数字数据
### 数据通信的技术指标
1. 数据通信速率：
	* 码元速率（波特率）$R_{B}$：每秒钟传输的码元量，单位为波特
	* 信息速率（比特率）$R_b$：每秒钟传输的信息量，单位为比特/秒
2. 码元：时间轴上一个信号的编码单元（一定宽度的电平信号）
	*对于二进制表示信号，信息速率与码元速率相等，对于四进制表示信号，信息速率是码元速率的两倍*
	$$R_b=R_Blog_2M$$
### 数据的传输方式
1. 信道的通信方式
	* 并行通信：数据以成组的方式在多个并行信道上同时进行传输（仅适合于**近距离**和高速率通信）
	* 串行通信：以串行方式在一条信道上传输（**适合远距离**，**需要外加同步措施**）
	**串行和并行的概念是指组成一个字符的各位是依顺序逐位传输还是并行的传输**
	* 单工：通信信道是**单向信道**，**数据信号**仅沿**一个方向**传输
	* 半双工：**数据信号可以沿两个方向**传送，但**同一时刻只允许单方向**传送
	* 全双工：**数据可以同时沿相反的两个方向**作双向传输
2. 数据的传输方式
	* 基带传输：**未经载波调制**，编码后的**数字脉冲信号**直接在信道上传输。发送端编码器，接收端编码器。
	* 频带传输：传统：利用**模拟信道传送数字信号**的方式。调制器，解调器
3. 数据同步方式
		接收端要求严格按照发送端所发送的每个码元的重复频率以及起始时间来接收数据，即在时间基准上保持一致。
	* 位同步：每一位数据都同步
		* 外同步（接收端的时钟信号由对方送来）与自同步（[[曼彻斯特编码]]）
	* 字符同步：通过字符边界实现字符的同步接收
		* [[异步制与同步制]]
	* 帧同步：识别一个帧的起始和结束，帧包含数据和控制信息的**数据块**
### 数据编码
数字数据的编码
* 不归零码：（常用-5V表示1，5V表示0，不具备自同步机制）
* 曼彻斯特码：（自同步码，高到低1，低到高0）
* 差分曼彻斯特码：中间跳变仅用作同步信号，位开始处有跳变0，无跳变1
调制：基本原理用数字数据信号对载波的不同参量进行调制
* 幅移键控ASK：改变载波信号的幅度值A代表不同01信号，其余不变
* 频移键控FSK：用在载波频率$\omega$附近的两个频率代表01，其余不变
* 相移键控PSK：改变载波信号的相位值$\varphi$表示01，其余不变
	 * 绝对调相
	 * 相对调相
脉冲编码调制PCM：将**模拟信号**转换成**二进制序列**
* 采样：一定时间间隔采集瞬时电平值
* 量化：标准量化级
* 编码：N个量化级有$log_2N$位二进制代码

![[Pasted image 20251022003741.png]]

### 多路复用技术
1. 频分复用FDM：分成**多个互不交叠的频段**，用**适当滤波器**接收（适用于模拟信号）
2. 时分复用TDM：当物理信道可支持的**比特传输速率**超过单个原始信号 要求的数据传输速率时，可以将该物理信道划分成**若干时间片**，并将各个时间片轮流地分配给多路信号，使得它们在时间上不重叠
	* 同步时分复用STDM：固定时间片分配，特定**时间段**（周期），再将每一时间划分成等长度的多个**时隙**。缺点**时隙利用率低**
	* 异步时分复用ATDM：它能**动态地按需分配**时隙，避免每个时间段中出现空闲时隙.提高资源的复用率。
3. 波分复用WDM：将输入信号调制在波长频率上，接收端分离或解复用
4. 码分复用CDMA：（码分多址）**同一时间同样频带**通信，使用码型分割
	![[Pasted image 20251022012853.png]]
### 数据交换技术
1. 电路交换（线路交换）：建立临时的专用通道。
	三个阶段
	* 电路建立：源节点请求，建立起一条由源节点到目的节点传输通道
	* 数据传输：传输期间，传输通道一直被独占
	* 电路拆除：源节点释放请求，目的节点释放应答
	电路交换的特点：数据传输可靠，传输延迟小，实时性好。独占线路，线路利用率低，没有纠错机制
2. 存储转发（存储交换）：在**交换过程**中，交换设备将接收到的报文先存储，待信道空闲时再转发出去，一 级一级中转，直到目的地的操作。**无需同时占用**整个物理线路。
	1. 报文存储转发（报文交换，完整转发）
		* 报文分为报头（报文号、目标地址、源地址）、正文（数据）、报尾（校验信息）
		* 无建立电路拆除电路延时，不独占线路，可靠性高，比分组交换控制简单
		* 由于存储转发和排队增加了数据传输延迟。报文暂存磁盘，磁盘读取占用额外时间。报文长度未定，增加存储管理难度。报文交换难以实现**实时性通信和交互式通信**，现在已经基本不再使用该交换技术。
	2. 分组交换
		* 报文分组：比报文还小的信息段，不再以报文为单位，而是以更短更标准的“报文分组”为单位进行存储转发。**源节点**报文分组，分组头部带有报文号、分组编号，**目的节点**按照分组编号重组报文
		* 分组小减少中间节点存储容量要求，转发延时小，传输**差错少**及容易进行差错控制
		* 目的站要对报文重组，增加了加工处理时间和出理的复杂性
![[Pasted image 20251022152403.png]]
数据报分组交换原理：
类似于报文交换中把一份报文进行单独处理一样，数据报分组交换网把进网的任一分组都当作**单独的“小报文”来处理**， 而不管它属于哪个报文的分组。这种分组交换方式简称为**数据报传输方式**
*IP networks采用数据报分组交换技术*
* 优点：没有建立链接拆除链接的过程，**通信开销小**。同一报文的不同分组可由**不同的传输路径**通过通信子网。对网络故障有**较强的适应能力**。
* 缺点：**乱序**或**丢失**，**接收端**需要进行**排序**工作。每一个报文分组都要带有**源节点地址和目的节点地址**

虚电路分组交换原理：
通过通信网络建立**逻辑上的连接**，随后所有报文分组都必须沿着**事先建立的逻辑连接——虚电路**传输，不发时清楚连接。虚电路方式具有**分组交换与电路交换两种方式的优点**。
虚电路的工作过程类似于电路交换，但电路是虚拟的，即**没有在交换节点中建立物理连接**（比如开关闭合连接），并且在通信时**不独占**该信道。物理媒体被复用为多个子信道（称为**逻辑信道 LC**），子信道的串接形成**虚电路（VC）**，利用不同的虚电路来支持不同的用户数据 的传输。
虚电路建立
1. **发送方**发送含有**地址信息**的特定控制信息块（呼叫分组）
2. 该控制信息块途经的每个中间节点都会根据当前的逻辑信道和资 源使用状况，为本次通信**分配逻辑信道和存储空间**，并**建立输入和输出逻辑信道映射表**
3. 所有中间节点分配的逻辑信道LC串接起来就形成了虚电路VC。 （交换机内部路由表——**虚电路号：转发路径：预留资源**）

数据传输：
1.  发送端站点发送的所有分组均沿着**相同的虚电路**传输至接收端，分组的**发送和接收顺序完全相同**
2. 分组中只带**虚电路号**，不带地址
**通信双方**都可以发起释放虚电路的动作

虚电路分组交换特点
1. 发送前建立逻辑连接，交换过程包括虚电路建立，数据传输，虚电路拆除
2. 报文分组只需带虚电路标识号
3. 不会出现丢失、重复、乱序
4. 经过节点时只需做差错检测，无需做路径选择
5. 通信子网中每个节点可以和任何节点**建立多条虚电路连接**

### 差错控制技术
**差错：接收端接收到的数据同发送端实际发出的数据不一致的现象**
差错产生原因——噪声
线路传输差错不可避免，但要尽量减小其影响
1. 差错控制：检错，纠错的技术和方法统称为差错控制
	* 差错控制思想——冗余。目前的差错控制常采用**冗余编码**方案同一定的**差错控制方法**相结合。
2. 差错控制技术
	 * 前向差错控制（前向纠错FEC）：汉明码、卷积码
	 * 反馈重发（自动请求重发ARQ）
	 **实际网络中使用自动请求重发ARQ同检错码相结合的方法**
	 自动请求重发ARQ实现方法
	 1. 停等式ARQ：发送完后等待接收端ACK或NAK（半双工）
	 2. 全部重发Go-Back-N ARQ：发送方可连续发送多帧，前面某帧出差从该帧以后全部重发
	 3. 选择重发ARQ：发送方可连续发送多帧，前面某帧出错只需重发该出错的帧
3. 差错控制编码（冗余编码）
	* 纠错码：汉明码、卷积码
	* 检错码：奇偶校验码、CRC循环冗余码
	1. 奇偶校验码：在原始数据字节的最高位/最低位增加一个附加比特位，使结 果中1的个数为奇数(奇校验)或偶数(偶校验)。增加的位称为**奇偶校验位**。（只能发现奇数个比特的差错，无法发现偶数维出错，方法简单验错能力差）
	2. CRC循环冗余码：通过多项式除法检验错误。检错思想：发送前，收发双方约定一个生成多项式$G(x)$（其最高阶和最低阶系数必须为1），发送方在帧的末尾加上校验和，使带校验和的帧的多项式能被$G(x)$整除
		校验和计算方法：
		1. 假设G(x)为r阶多项式（r+1位），并且原帧为m位，其多项式为 M(x)，则在原帧后面添加r个0，实际传送的帧成为m+r位
		2. 相应多项式xrM(x) 按模2除法(即异或运算)用对应于G(x)的位串去除对应于xrM(x) 的位串，获得余数
		3. 按模2加法把xrM(x) 的位串与余数相加，结果就是要传送的带校 验和的帧的多项式T(x)
		![[Pasted image 20251023161439.png]]
		CRC循环冗余码可检出错误： 
		* 全部单个错（只有一位出错）
		* 全部离散的二位错（只有两位出错，且不相连） 
		* 全部奇数个错（出错位数为奇数个）
		* 全部长度小于或等于r位的突发错（突发错是指几乎是连续发 生的一串错，突发错长度是指从出错的第一位到出错的最后一 位的位数，但是并不是中间的每一位都出错）
		* 能以[1-(1/2)r-1]的概率检查出r+1位的突发错。